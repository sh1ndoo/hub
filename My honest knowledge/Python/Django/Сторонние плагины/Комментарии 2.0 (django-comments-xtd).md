
---

**django-comments-xtd** ‚Äî —ç—Ç–æ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è Django, –∫–æ—Ç–æ—Ä–æ–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ **—Ä–∞—Å—à–∏—Ä—è–µ—Ç –∏ —É–ª—É—á—à–∞–µ—Ç** –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `django-contrib-comments`. –û–Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–∞–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ –æ–∂–∏–¥–∞—é—Ç—Å—è –æ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–∞–∫–∏—Ö –∫–∞–∫ –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ email, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –∏ REST API.

**–í–∞–∂–Ω–æ:** `django-comments-xtd` **–¢–†–ï–ë–£–ï–¢** —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `django-contrib-comments`. –û–Ω–æ —Å—Ç—Ä–æ–∏—Ç—Å—è –ø–æ–≤–µ—Ä—Ö –Ω–µ–≥–æ, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—è –∏ –¥–æ–ø–æ–ª–Ω—è—è –µ–≥–æ –∫–ª–∞—Å—Å—ã –∏ —à–∞–±–ª–æ–Ω—ã.

**–ß—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç django-comments-xtd:**

*   **–î—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–µ (Threaded) –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:** –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–µ—Ç–∫–∏ –æ–±—Å—É–∂–¥–µ–Ω–∏–π.
*   **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –ø–æ Email:** –î–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–≤–æ–π email, –ø–µ—Ä–µ–π–¥—è –ø–æ —Å—Å—ã–ª–∫–µ –≤ –ø–∏—Å—å–º–µ, –ø—Ä–µ–∂–¥–µ —á–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –±—É–¥–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –±–æ—Ä–æ—Ç—å—Å—è —Å–æ —Å–ø–∞–º–æ–º –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å email.
*   **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ Email:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –≤ –≤–µ—Ç–∫–µ, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –æ–Ω–∏ –æ—Ç–≤–µ—Ç–∏–ª–∏, –∏–ª–∏ –æ–±–æ –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –∫ –∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–µ–º–æ–º—É –æ–±—ä–µ–∫—Ç—É ("follow-up").
*   **–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –∑–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:** –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è ("–ª–∞–π–∫–∏" / "–¥–∏–∑–ª–∞–π–∫–∏" / "–∞–ø–≤–æ—Ç—ã" / "–¥–∞—É–Ω–≤–æ—Ç—ã") –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.
*   **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π REST API:** –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞–±–æ—Ä –∫–æ–Ω–µ—á–Ω—ã—Ö —Ç–æ—á–µ–∫ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ —á–µ—Ä–µ–∑ JavaScript –∏–ª–∏ –¥—Ä—É–≥–∏–µ –∫–ª–∏–µ–Ω—Ç—ã, —á—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è Single Page Applications (SPA).
*   **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è:** –†–∞—Å—à–∏—Ä—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏, –≤–∫–ª—é—á–∞—è –ø–æ—Ä–æ–≥–∏ –¥–ª—è –ø–æ–º–µ—á–µ–Ω–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.
*   **–ó–∞–∫—Ä—ã—Ç–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤:** –ë–æ–ª–µ–µ –≥–∏–±–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è –ø–æ—Å–ª–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∏–ª–∏ –ø–æ —É—Å–ª–æ–≤–∏—é.

---

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–ü–æ—Å–∫–æ–ª—å–∫—É `django-comments-xtd` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `django-contrib-comments`, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–µ–µ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ (–≤–∫–ª—é—á–∞—è `django.contrib.sites` –∏ `SITE_ID`).

1.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç:**

    ```bash
    pip install django-comments-xtd
    ```

2.  **–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ `settings.py`:**

    –í —Å–ø–∏—Å–æ–∫ `INSTALLED_APPS`, –¥–æ–±–∞–≤—å—Ç–µ `django_comments_xtd`. **–û–ß–ï–ù–¨ –í–ê–ñ–ù–û** –¥–æ–±–∞–≤–∏—Ç—å `django_comments_xtd` *–ø–µ—Ä–µ–¥* `django_comments`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç `django-comments-xtd` –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —à–∞–±–ª–æ–Ω—ã –∏ URLConf) –∏–∑ `django-contrib-comments`.

    ```python
    # settings.py

    INSTALLED_APPS = [
        # –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–ª—è Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        'django.contrib.admin',
        'django.contrib.auth',
        'django.contrib.contenttypes',
        'django.contrib.sessions',
        'django.contrib.messages',
        'django.contrib.staticfiles',
        'django.contrib.sites',

        # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ XTD (–î–û django_comments)
        'django_comments_xtd', # <--- –î–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–µ–¥ django_comments

        # –ë–∞–∑–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)
        'django_comments', # <--- –î–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å–ª–µ django_comments_xtd

        # –í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –º–æ–¥–µ–ª—è–º–∏
        'your_app_name',

        # ... –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    ]

    # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SITE_ID –Ω–∞—Å—Ç—Ä–æ–µ–Ω
    SITE_ID = 1

    # ... –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    ```

---

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (settings.py)

`django-comments-xtd` –∏–º–µ–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –µ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º. –í–æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–ª—é—á–µ–≤—ã–µ:

*   **`COMMENTS_APP = 'django_comments_xtd'`**:
    *   **–≠—Ç–æ —Å–∞–º–∞—è –≤–∞–∂–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞.** –û–Ω–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç Django –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏, —Ñ–æ—Ä–º—ã –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–∑ `django_comments_xtd` –≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∏–∑ `django_comments`.
    *   –î–æ–±–∞–≤—å—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É –≤ `settings.py`.

    ```python
    # settings.py
    COMMENTS_APP = 'django_comments_xtd'
    ```

*   **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Email Backend:**
    *   –î–ª—è —Ñ—É–Ω–∫—Ü–∏–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ email –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–æ—á—Ç–æ–≤—ã–π –±—ç–∫–µ–Ω–¥.
    *   –í —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `console.EmailBackend` (–≤—ã–≤–æ–¥–∏—Ç –ø–∏—Å—å–º–∞ –≤ –∫–æ–Ω—Å–æ–ª—å) –∏–ª–∏ `filebased.EmailBackend` (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–∏—Å—å–º–∞ –≤ —Ñ–∞–π–ª).
    *   –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π SMTP-–±—ç–∫–µ–Ω–¥ (`smtp.EmailBackend`) –∏–ª–∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã.

    ```python
    # settings.py (–ü—Ä–∏–º–µ—Ä –¥–ª—è –≤—ã–≤–æ–¥–∞ –ø–∏—Å–µ–º –≤ –∫–æ–Ω—Å–æ–ª—å)
    EMAIL_BACKEND = 'django.core.mail.backends.console.EmailBackend'

    # settings.py (–ü—Ä–∏–º–µ—Ä –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∏—Å–µ–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é 'emails' –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)
    # EMAIL_BACKEND = 'django.core.mail.backends.filebased.EmailBackend'
    # EMAIL_FILE_PATH = BASE_DIR / 'emails' # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏

    # settings.py (–ü—Ä–∏–º–µ—Ä –¥–ª—è SMTP - —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–π SMTP-—Å–µ—Ä–≤–µ—Ä)
    # EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
    # EMAIL_HOST = 'smtp.your_server.com'
    # EMAIL_PORT = 587
    # EMAIL_USE_TLS = True
    # EMAIL_HOST_USER = 'your_email@your_server.com'
    # EMAIL_HOST_PASSWORD = 'your_email_password'
    ```

*   **`COMMENT_EMAIL_NOTIFICATION = True`**:
    *   –í–∫–ª—é—á–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –Ω–æ–≤—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö/–æ—Ç–≤–µ—Ç–∞—Ö. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `False`.

*   **`COMMENT_APPROVAL_REQUIRED = False`**:
    *   –ï—Å–ª–∏ `True`, –ø–µ—Ä–≤—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π –≤–µ—Ç–∫–µ (–Ω–µ –æ—Ç–≤–µ—Ç –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π) –±—É–¥–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π. –ü–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è –ø–µ—Ä–≤—ã–º –ø–æ—Å—Ç–æ–º –≤ –≤–µ—Ç–∫–µ, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –≤ —ç—Ç–æ–π –≤–µ—Ç–∫–µ (–µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–π –ø–µ—Ä–≤—ã–π –ø–æ—Å—Ç) –º–æ–≥—É—Ç –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å—Å—è —Å—Ä–∞–∑—É.
    *   –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `False`.

*   **`COMMENTS_XTD_CONFIRM_EMAIL = True`**:
    *   –í–∫–ª—é—á–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email –¥–ª—è **–∞–Ω–æ–Ω–∏–º–Ω—ã—Ö** –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `True`. –ï—Å–ª–∏ `False`, –∞–Ω–æ–Ω–∏–º–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø—É–±–ª–∏–∫—É—é—Ç—Å—è —Å—Ä–∞–∑—É (–µ—Å–ª–∏ –º–æ–¥–µ—Ä–∞—Ü–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è).

*   **`COMMENTS_XTD_MAX_THREAD_DEPTH = 0`**:
    *   –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ –≤–µ—Ç–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤. `0` –æ–∑–Ω–∞—á–∞–µ—Ç –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—É—é –≥–ª—É–±–∏–Ω—É. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, `3` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤–µ—Ç–æ–∫ —Ç—Ä–µ–º—è —É—Ä–æ–≤–Ω—è–º–∏ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏.

*   **`COMMENTS_XTD_ALLOW_ANONYMOUS = True`**:
    *   –£–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–º, –º–æ–≥—É—Ç –ª–∏ –∞–Ω–æ–Ω–∏–º–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ—Å—Ç–∞–≤–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏. –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `django-contrib-comments`, –Ω–æ —Å—Ç–æ–∏—Ç —É–±–µ–¥–∏—Ç—å—Å—è. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `True`.

*   **`COMMENTS_XTD_SALT`**:
    *   –°–µ–∫—Ä–µ—Ç–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ (—Å–æ–ª—å), –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å—Å—ã–ª–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ—ë –∫–∞–∫ —Å–ª—É—á–∞–π–Ω—É—é —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É, –æ—Ç–ª–∏—á–Ω—É—é –æ—Ç `SECRET_KEY`. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `SECRET_KEY`. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é —Å–æ–ª—å.

    ```python
    # settings.py
    COMMENTS_XTD_SALT = "–≤–∞—à–∞_—Å–ª—É—á–∞–π–Ω–∞—è_—Å—Ç—Ä–æ–∫–∞_—Å–æ–ª–∏"
    ```

*   –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –¥—Ä—É–≥–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ–º, –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π, –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π API –∏ —Ç.–¥. –°–º. [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](https://django-comments-xtd.readthedocs.io/en/latest/settings.html).

---

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–ú–∏–≥—Ä–∞—Ü–∏–∏)

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è `django_comments_xtd` –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `COMMENTS_APP = 'django_comments_xtd'`, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏.

```bash
python manage.py migrate
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:
*   –ü—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è `django_comments_xtd`, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å `XtdComment` –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –ø–æ–¥–ø–∏—Å–æ–∫, –≥–æ–ª–æ—Å–æ–≤).
*   –ú–æ–∂–µ—Ç –≤–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ç–∞–±–ª–∏—Ü—É `django_comments` –∏–ª–∏ –¥—Ä—É–≥–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã, —á—Ç–æ–±—ã —É—á–µ—Å—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è –∏ –ª–æ–≥–∏–∫—É `xtd`.

–ú–æ–¥–µ–ª—å `XtdComment` –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `Comment` (`django_comments.models.Comment`) –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—è –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–µ—Ç–≤–ª–µ–Ω–∏—è (`parent_id`, `thread_id`, `level`, `order`) –∏ –¥—Ä—É–≥–∏–µ –ø–æ–ª—è –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π `xtd` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `followup`).

---

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–∞—à–µ–π –º–æ–¥–µ–ª—å—é (–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏ –®–∞–±–ª–æ–Ω—ã)

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–∞—à–µ–π –º–æ–¥–µ–ª—å—é –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ —Å `django-contrib-comments`, –Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è —Ç–æ–º—É, —á—Ç–æ `django-comments-xtd` –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–≥–∏ —à–∞–±–ª–æ–Ω–∞ –∏ URLConf, –≤—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª.

1.  **–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ:** –í–∞—à–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (DetailView –∏–ª–∏ FBV) –¥–æ–ª–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ö–æ—Ç–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç —à–∞–±–ª–æ–Ω–∞.

    ```python
    # your_app/views.py
    from django.views.generic import DetailView
    from .models import YourModel

    class YourModelDetailView(DetailView):
        model = YourModel
        template_name = 'your_app/yourmodel_detail.html'
        context_object_name = 'object' # –ò–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –∏–º—è
    ```

2.  **–®–∞–±–ª–æ–Ω:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ –∂–µ —Å–∞–º—ã–µ —Ç–µ–≥–∏ —à–∞–±–ª–æ–Ω–∞ `{% load comments %}`, `{% render_comment_list %}` –∏ `{% render_comment_form %}`.

    ```html
    {# your_app/yourmodel_detail.html #}
    {% extends 'base.html' %}
    {% load comments %} {# –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–≥–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (–æ–Ω–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ xtd) #}
    {% load comments_xtd %} {# –¢–∞–∫–∂–µ –∑–∞–≥—Ä—É–∑–∏—Ç–µ xtd-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ç–µ–≥–∏, –µ—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è) #}


    {% block content %}
        <h1>{{ object.title }}</h1>
        <p>{{ object.body }}</p>

        {# –û—Å—Ç–∞–≤—å—Ç–µ <h2>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h2> –∑–¥–µ—Å—å –∏–ª–∏ –≤ —à–∞–±–ª–æ–Ω–µ list.html #}
        {# –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ #}
        {% render_comment_list for object %}

        {# –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ñ–æ—Ä–º—É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è (—Å –ø–æ–ª–µ–º –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è) #}
        {% render_comment_form for object %}

    {% endblock %}
    ```

    *   **`{% load comments_xtd %}`:** –ù–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–µ–≥–æ–≤, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Ç–æ–ª—å–∫–æ –¥–ª—è `django-comments-xtd`, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–æ—Ä–º—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –•–æ—Ç—è `{% render_comment_list %}` —É–∂–µ –≤–∫–ª—é—á–∞–µ—Ç –ª–æ–≥–∏–∫—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥–æ–ª–æ—Å–æ–≤ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —à–∞–±–ª–æ–Ω–µ `xtd`.

---

### 5. –ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

#### 5.1 –î—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

*   –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ `XtdComment` —Å –ø–æ–º–æ—â—å—é –ø–æ–ª–µ–π `parent_id`, `thread_id`, `level`, `order`.
*   –¢–µ–≥ `{% render_comment_list %}`, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π `django-comments-xtd`, —Ä–µ–Ω–¥–µ—Ä–∏—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å—é, –∏—Å–ø–æ–ª—å–∑—É—è —à–∞–±–ª–æ–Ω `django_comments_xtd/comment_list.html`, –∫–æ—Ç–æ—Ä—ã–π, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, –æ–±—ã—á–Ω–æ –≤–∫–ª—é—á–∞–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è —Å –ø–æ–º–æ—â—å—é —à–∞–±–ª–æ–Ω–∞ `django_comments_xtd/comment.html`.
*   –§–æ—Ä–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è (`{% render_comment_form %}`) –≤ —à–∞–±–ª–æ–Ω–µ `django_comments_xtd/comment_form.html` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∫—Ä—ã—Ç—ã–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è JavaScript'–æ–º –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ—Ç–≤–µ—Ç–æ–º –Ω–∞ –¥—Ä—É–≥–æ–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π.

#### 5.2 –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ Email (–¥–ª—è –∞–Ω–æ–Ω–∏–º–æ–≤)

*   –ö–æ–≥–¥–∞ –∞–Ω–æ–Ω–∏–º–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (`POST` –∑–∞–ø—Ä–æ—Å –Ω–∞ URL `/comments/post/`), –æ–Ω –Ω–µ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è —Å—Ä–∞–∑—É.
*   Django –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∏—Å—å–º–æ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π email –∞–¥—Ä–µ—Å (–∏—Å–ø–æ–ª—å–∑—É—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `EMAIL_BACKEND`).
*   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–π—Ç–∏ –ø–æ —Å—Å—ã–ª–∫–µ –≤ –ø–∏—Å—å–º–µ, –∫–æ—Ç–æ—Ä–∞—è –≤–µ–¥–µ—Ç –Ω–∞ URL –≤—Ä–æ–¥–µ `/comments/confirm/[key]/`.
*   –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ `django-comments-xtd` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —ç—Ç–æ—Ç URL, –Ω–∞—Ö–æ–¥–∏—Ç "—É–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π" –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∏ –ø—É–±–ª–∏–∫—É–µ—Ç –µ–≥–æ (`is_public = True`).
*   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø—Ä–æ—à–µ–¥—à–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é, –ø—É–±–ª–∏–∫—É—é—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å—Ä–∞–∑—É (–µ—Å–ª–∏ –º–æ–¥–µ—Ä–∞—Ü–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è).
*   –ü–æ–≤–µ–¥–µ–Ω–∏–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π `COMMENTS_XTD_CONFIRM_EMAIL = True/False`.

#### 5.3 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ Email

*   –í —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —à–∞–±–ª–æ–Ω–µ —Ñ–æ—Ä–º—ã (`django_comments_xtd/comment_form.html`) –µ—Å—Ç—å —á–µ–∫–±–æ–∫—Å "Notify me of follow up comments" (–£–≤–µ–¥–æ–º–ª—è—Ç—å –º–µ–Ω—è –æ –Ω–æ–≤—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö). –≠—Ç–æ—Ç —á–µ–∫–±–æ–∫—Å –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `COMMENT_EMAIL_NOTIFICATION = True` –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ª–∏–±–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω, –ª–∏–±–æ `COMMENTS_XTD_CONFIRM_EMAIL = True` (—á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ email).
*   –ö–æ–≥–¥–∞ –Ω–æ–≤—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∏–ª–∏ –æ—Ç–≤–µ—Ç –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è, Django –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∏—Å—å–º–æ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º, –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–º –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞/–≤–µ—Ç–∫–∏.
*   –í —à–∞–±–ª–æ–Ω–µ —Å–ø–∏—Å–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (`django_comments_xtd/comment.html`) –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ "follow" –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –≤–µ—Ç–∫—É –∏ "unfollow" –¥–ª—è –æ—Ç–ø–∏—Å–∫–∏.
*   –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `COMMENT_EMAIL_NOTIFICATION = True` –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω `EMAIL_BACKEND`.

#### 5.4 –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ

*   –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —à–∞–±–ª–æ–Ω `django_comments_xtd/comment.html` –≤–∫–ª—é—á–∞–µ—Ç –±–ª–æ–∫–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å—á–µ—Ç–∞ –≥–æ–ª–æ—Å–æ–≤ (–ª–∞–π–∫–æ–≤/–¥–∏–∑–ª–∞–π–∫–æ–≤) –∏ –∫–Ω–æ–ø–æ–∫ –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è.
*   –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ REST API. –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ –∫–Ω–æ–ø–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç JavaScript, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `POST` –∑–∞–ø—Ä–æ—Å –Ω–∞ URL –≤—Ä–æ–¥–µ `/comments/api/comments/N/vote/`, –≥–¥–µ `N` - ID –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è.
*   –í–∞–º, –≤–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–∫–ª—é—á–∏—Ç—å JavaScript –∏ CSS —Ñ–∞–π–ª—ã, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–µ `django-comments-xtd` –≤ –≤–∞—à–∏—Ö –±–∞–∑–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–∞—Ö, —á—Ç–æ–±—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –∏ –¥—Ä—É–≥–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞–ª–∏:

    ```html
    {# base.html –∏–ª–∏ –≤–∞—à –≥–ª–∞–≤–Ω—ã–π —à–∞–±–ª–æ–Ω #}
    {% load static %}

    <script src="{% static 'django_comments_xtd/js/jquery.js' %}"></script> {# django-comments-xtd –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å jQuery #}
    <script src="{% static 'django_comments_xtd/js/jquery.form.js' %}"></script>
    <script src="{% static 'django_comments_xtd/js/jquery.cookie.js' %}"></script>
    <script src="{% static 'django_comments_xtd/js/django_comments_xtd.js' %}"></script>

    <link rel="stylesheet" href="{% static 'django_comments_xtd/css/bootstrap3/django-comments-xtd.css' %}"> {# –ü—Ä–∏–º–µ—Ä –¥–ª—è Bootstrap 3 #}
    {# –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Ñ–∞–π–ª CSS –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ CSS-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ base/ #}
    ```
    *   **–í–Ω–∏–º–∞–Ω–∏–µ:** `django-comments-xtd` –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ –ø–æ–ª–∞–≥–∞–ª—Å—è –Ω–∞ jQuery. –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–µ—Ä—Å–∏–∏ –∏ –≤–∞—à–∏—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π, –≤–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å jQuery –∏–ª–∏ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å JavaScript-–ª–æ–≥–∏–∫—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.

#### 5.5 REST API

*   `django-comments-xtd` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç viewsets –∏ —Ä–æ—É—Ç–µ—Ä—ã –¥–ª—è Django REST framework.
*   –ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è `django_comments_xtd.urls` –≤ –≤–∞—à–µ–º `urls.py`, —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
    *   `/comments/api/comments/`: GET (—Å–ø–∏—Å–æ–∫), POST (—Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è)
    *   `/comments/api/comments/<pk>/`: GET (–æ–¥–∏–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π), PUT/PATCH (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ), DELETE (—É–¥–∞–ª–µ–Ω–∏–µ)
    *   `/comments/api/comments/<pk>/vote/`: POST (–≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ)
    *   `/comments/api/comments/<pk>/flag/`: POST (–ø–æ–º–µ—Ç–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π)
*   –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–º –Ω–∞ JavaScript-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö (React, Vue, Angular) –∏–ª–∏ —Å –º–æ–±–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏.

---

### 6. –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

–ö–∞–∫ –∏ `django-contrib-comments`, `django-comments-xtd` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã –∏ —Ñ–æ—Ä–º—ã.

#### 6.1 –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–æ–≤

–≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞. –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `templates/django_comments_xtd/` –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ —Ç—É–¥–∞ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã.

–ö–ª—é—á–µ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã:

*   `django_comments_xtd/comment_list.html`: –û—Å–Ω–æ–≤–Ω–æ–π —à–∞–±–ª–æ–Ω –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ *–≤—Å–µ–≥–æ —Å–ø–∏—Å–∫–∞* –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (–æ–±—ã—á–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç `comment.html` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è).
*   `django_comments_xtd/comment.html`: –®–∞–±–ª–æ–Ω –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ *–æ–¥–Ω–æ–≥–æ* –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –≤ —Å–ø–∏—Å–∫–µ, –≤–∫–ª—é—á–∞—è –µ–≥–æ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å, –∞–≤—Ç–æ—Ä–∞, —Ç–µ–∫—Å—Ç, –∫–Ω–æ–ø–∫–∏ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –∏ —Å—Å—ã–ª–∫—É "–æ—Ç–≤–µ—Ç–∏—Ç—å".
*   `django_comments_xtd/comment_form.html`: –®–∞–±–ª–æ–Ω —Ñ–æ—Ä–º—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è (–≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª—è –∞–≤—Ç–æ—Ä–∞/email/URL –¥–ª—è –∞–Ω–æ–Ω–∏–º–æ–≤, –ø–æ–ª–µ —Ç–µ–∫—Å—Ç–∞, —á–µ–∫–±–æ–∫—Å –ø–æ–¥–ø–∏—Å–∫–∏).
*   `django_comments_xtd/reply.html`: –®–∞–±–ª–æ–Ω –¥–ª—è AJAX-–æ—Ç–≤–µ—Ç–æ–≤ —Ñ–æ—Ä–º—ã (–∫–æ–≥–¥–∞ —Ñ–æ—Ä–º–∞ –æ—Ç–≤–µ—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º).
*   `django_comments_xtd/email/`: –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å —à–∞–±–ª–æ–Ω–∞–º–∏ –ø–∏—Å–µ–º –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

#### 6.2 –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º—ã

–ù–∞—Å–ª–µ–¥—É–π—Ç–µ –æ—Ç `django_comments_xtd.forms.XtdCommentForm` –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ –ø–æ–ª—è –∏–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é.

```python
# your_app/forms.py
from django_comments_xtd.forms import XtdCommentForm
from django import forms

class MyXtdCommentForm(XtdCommentForm):
    # –ü—Ä–∏–º–µ—Ä: —Å–¥–µ–ª–∞—Ç—å –ø–æ–ª–µ URL –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –¥–ª—è –∞–Ω–æ–Ω–∏–º–æ–≤
    user_url = forms.URLField(required=False, label="–°–∞–π—Ç (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)")

    # –ü—Ä–∏–º–µ—Ä: –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤—ã–±–æ—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
    MOOD_CHOICES = [
        ('happy', 'üòä –°—á–∞—Å—Ç–ª–∏–≤'),
        ('neutral', 'üòê –ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ'),
        ('sad', 'üòî –ì—Ä—É—Å—Ç–Ω–æ'),
    ]
    mood = forms.ChoiceField(choices=MOOD_CHOICES, required=False, label="–í–∞—à–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ")

    def get_comment_create_data(self, site_id=None):
        # –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–±—ä–µ–∫—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
        data = super().get_comment_create_data(site_id)
        data['mood'] = self.cleaned_data['mood']
        # –ï—Å–ª–∏ –≤—ã –¥–æ–±–∞–≤–∏–ª–∏ –ø–æ–ª–µ –≤ –º–æ–¥–µ–ª—å XtdComment, –æ–Ω–æ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
        # –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ COMMENTS_APP. –ï—Å–ª–∏ –Ω–µ—Ç, –≤–∞–º –Ω—É–∂–Ω–æ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å.
        return data

```
–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞—à—É –∫–∞—Å—Ç–æ–º–Ω—É—é —Ñ–æ—Ä–º—É, —É–∫–∞–∂–∏—Ç–µ –µ—ë –≤ `settings.py`:

```python
# settings.py
COMMENTS_XTD_FORM_CLASS = 'your_app.forms.MyXtdCommentForm'
```

#### 6.3 –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–∏

–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (—Ç.–µ., –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π `XtdComment`), –≤–∞–º –ø—Ä–∏–¥–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å, –Ω–∞—Å–ª–µ–¥—É—è –µ—ë –æ—Ç `XtdComment`.

```python
# your_app/models.py
from django_comments_xtd.models import XtdComment
from django.db import models

class MyCommentWithMood(XtdComment):
     # –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤–æ–µ –ø–æ–ª–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã, –≤–æ–∑–º–æ–∂–Ω–æ, –¥–æ–±–∞–≤–∏–ª–∏ –≤ —Ñ–æ—Ä–º—É –≤—ã—à–µ
     mood = models.CharField(max_length=10, blank=True, null=True) # –ü—Ä–∏–º–µ—Ä

     # Django —Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è objects Manager –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π, –Ω–∞—Å–ª–µ–¥—É—é—â–∏—Ö –æ—Ç XtdComment
     objects = XtdComment.objects

     class Meta:
         proxy = True # –ï—Å–ª–∏ –≤—ã —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –º–µ—Ç–æ–¥—ã –∏–ª–∏ –∏–∑–º–µ–Ω—è–µ—Ç–µ –º–µ–Ω–µ–¥–∂–µ—Ä, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–∫—Å–∏
         # –ï—Å–ª–∏ –≤—ã –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –ø–æ–ª—è (–∫–∞–∫ mood –≤—ã—à–µ), proxy=False (–∏–ª–∏ —É–±–µ—Ä–∏—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É) –∏ –Ω—É–∂–Ω–∞ –Ω–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞
         # –¢–æ–≥–¥–∞ —ç—Ç–æ –±—É–¥–µ—Ç –º–æ–¥–µ–ª—å —Å multi-table inheritance.

```
–ï—Å–ª–∏ –≤—ã –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –ø–æ–ª—è, Django —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É, —Å–≤—è–∑–∞–Ω–Ω—É—é —Å —Ç–∞–±–ª–∏—Ü–µ–π `XtdComment`. –í–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è —ç—Ç–æ–≥–æ.

–ß—Ç–æ–±—ã Django –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –≤–∞—à—É –∫–∞—Å—Ç–æ–º–Ω—É—é –º–æ–¥–µ–ª—å *–∏* –≤–∞—à—É –∫–∞—Å—Ç–æ–º–Ω—É—é —Ñ–æ—Ä–º—É, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `settings.py`:

```python
# settings.py
COMMENTS_APP = 'your_app' # –£–∫–∞–∑—ã–≤–∞–µ—Ç Django –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –∏ —Ñ–æ—Ä–º—ã –∏–∑ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
# COMMENTS_XTD_FORM_CLASS –Ω–µ –Ω—É–∂–µ–Ω, –µ—Å–ª–∏ COMMENTS_APP —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —Ñ–æ—Ä–º–æ–π
```

---

### 7. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

`django-comments-xtd` ‚Äî —ç—Ç–æ –º–æ—â–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è `django-contrib-comments`, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –û–Ω–æ —Ö–æ—Ä–æ—à–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–æ, –∞–∫—Ç–∏–≤–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ –≤—ã —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Class-Based Views –∏ ModelForms. –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–≤–æ–¥–∏—Ç—Å—è –∫ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é —à–∞–±–ª–æ–Ω–æ–≤ –∏, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, —Ñ–æ—Ä–º –∏ –º–æ–¥–µ–ª–∏. –í—Å–µ–≥–¥–∞ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ django-comments-xtd](https://django-comments-xtd.readthedocs.io/en/latest/) –∑–∞ —Å–∞–º–æ–π –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –∏ –ø–æ–ª–Ω—ã–º —Å–ø–∏—Å–∫–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–∫.